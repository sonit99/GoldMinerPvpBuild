(function(t,n){"function"==typeof define&&define.amd?define([],function(){return n(t)}):"object"==typeof exports?module.exports=n(t):t.Polyglot=n(t)})("undefined"!=typeof global?global:this,function(t){"use strict";var n=String.prototype.replace;function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||h}e.VERSION="1.0.0",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,n){var e;for(var r in t)t.hasOwnProperty(r)&&(e=t[r],n&&(r=n+"."+r),"object"==typeof e?this.extend(e,r):this.phrases[r]=e)},e.prototype.unset=function(t,n){var e;if("string"==typeof t)delete this.phrases[t];else for(var r in t)t.hasOwnProperty(r)&&(e=t[r],n&&(r=n+"."+r),"object"==typeof e?this.unset(e,r):delete this.phrases[r])},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var o,i,s,c,f,l,h,g,d;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?o=this.phrases[t]:"string"==typeof e._?o=e._:this.allowMissing?o=t:(this.warn('Missing translation for key: "'+t+'"'),i=t),"string"==typeof o&&(e=y(e),i=p((s=o,c=this.currentLocale,null!=(f=e.smart_count)&&s?(g=(h=s.split(r))[u(c,f)]||h[0],d=g,l=n.call(d,a,"")):l=s,i=l),e)),i},e.prototype.has=function(t){return t in this.phrases};var r="||||",o={chinese:function(){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},i={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function s(t){var n,e,r,o={};for(n in t)if(t.hasOwnProperty(n))for(r in e=t[n])o[e[r]]=n;return o}var a=/^\s+|\s+$/g;function c(t){var n=s(i);return n[t]||n.en}function u(t,n){return o[c(t)](n)}var f=/\$/g,l="$$$$";function p(t,e){for(var r in e)if("_"!==r&&e.hasOwnProperty(r)){var o=e[r];"string"==typeof o&&(o=n.call(e[r],f,l)),t=n.call(t,new RegExp("%\\{"+r+"\\}","g"),o)}return t}function h(n){t.console&&t.console.warn&&t.console.warn("WARNING: "+n)}function y(t){var n={};for(var e in t)n[e]=t[e];return n}return e});