(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).async={})})(this,function(t){"use strict";function e(t,...e){return(...r)=>t(...e,...r)}function r(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}var n="function"==typeof queueMicrotask&&queueMicrotask,i="function"==typeof setImmediate&&setImmediate,u="object"==typeof process&&"function"==typeof process.nextTick;function a(t){setTimeout(t,0)}function o(t){return(e,...r)=>t(()=>e(...r))}var c=o(n?queueMicrotask:i?setImmediate:u?process.nextTick:a);function s(t){return h(t)?function(...e){const r=e.pop();return f(t.apply(this,e),r)}:r(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&"function"==typeof n.then)return f(n,r);r(null,n)})}function f(t,e){return t.then(t=>{l(e,null,t)},t=>{l(e,t&&(t instanceof Error||t.message)?t:new Error(t))})}function l(t,e,r){try{t(e,r)}catch(n){c(t=>{throw t},n)}}function h(t){return"AsyncFunction"===t[Symbol.toStringTag]}function p(t){return"AsyncGenerator"===t[Symbol.toStringTag]}function y(t){return"function"==typeof t[Symbol.asyncIterator]}function v(t){if("function"!=typeof t)throw new Error("expected a function");return h(t)?s(t):t}function m(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise((n,i)=>{r[e-1]=(t,...e)=>{if(t)return i(t);n(e.length>1?e:e[0])},t.apply(this,r)})}}function d(t){return function(e,...r){return m(function(n){var i=this;return t(e,(t,e)=>{v(t).apply(i,r.concat(e))},n)})}}function g(t,e,r,n){e=e||[];var i=[],u=0,a=v(r);return t(e,(t,e,r)=>{var n=u++;a(t,(t,e)=>{i[n]=e,r(t)})},t=>{n(t,i)})}function b(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}var S={};function k(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function w(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function E(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function L(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}function A(t){if(b(t))return E(t);var e,r,n,i,u=w(t);return u?L(u):(r=(e=t)?Object.keys(e):[],n=-1,i=r.length,function t(){var u=r[++n];return"__proto__"===u?t():n<i?{value:e[u],key:u}:null})}function x(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function O(t,e,r,n){let i=!1,u=!1,a=!1,o=0,c=0;function s(){o>=e||a||i||(a=!0,t.next().then(({value:t,done:e})=>{if(!u&&!i){if(a=!1,e)return i=!0,void(o<=0&&n(null));o++,r(t,c,f),c++,s()}}).catch(l))}function f(t,e){if(o-=1,!u)return t?l(t):!1===t?(i=!0,void(u=!0)):e===S||i&&o<=0?(i=!0,n(null)):void s()}function l(t){u||(a=!1,i=!0,n(t))}s()}var j=t=>(e,r,n)=>{if(n=k(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if(p(e))return O(e,t,r,n);if(y(e))return O(e[Symbol.asyncIterator](),t,r,n);var i=A(e),u=!1,a=!1,o=0,c=!1;function s(t,e){if(!a)if(o-=1,t)u=!0,n(t);else if(!1===t)u=!0,a=!0;else{if(e===S||u&&o<=0)return u=!0,n(null);c||f()}}function f(){for(c=!0;o<t&&!u;){var e=i();if(null===e)return u=!0,void(o<=0&&n(null));o+=1,r(e.value,e.key,x(s))}c=!1}f()},_=m(function(t,e,r,n){return j(e)(t,v(r),n)},4);function I(t,e,r){r=k(r);var n=0,i=0,{length:u}=t,a=!1;function o(t,e){!1===t&&(a=!0),!0!==a&&(t?r(t):++i!==u&&e!==S||r(null))}for(0===u&&r(null);n<u;n++)e(t[n],n,x(o))}function T(t,e,r){return _(t,1/0,e,r)}var B=m(function(t,e,r){return(b(t)?I:T)(t,v(e),r)},3),M=m(function(t,e,r){return g(B,t,e,r)},3),F=d(M),C=m(function(t,e,r){return _(t,1,e,r)},3),q=m(function(t,e,r){return g(C,t,e,r)},3),z=d(q);const P=Symbol("promiseCallback");function D(){let t,e;function r(r,...n){if(r)return e(r);t(n.length>1?n:n[0])}return r[P]=new Promise((r,n)=>{t=r,e=n}),r}function V(t,e,r){"number"!=typeof e&&(r=e,e=null),r=k(r||D());var n=Object.keys(t).length;if(!n)return r(null);e||(e=n);var i={},u=0,a=!1,o=!1,c=Object.create(null),s=[],f=[],l={};function h(t,e){s.push(()=>d(t,e))}function p(){if(!a){if(0===s.length&&0===u)return r(null,i);for(;s.length&&u<e;)s.shift()()}}function y(t,e){var r=c[t];r||(r=c[t]=[]),r.push(e)}function m(t){(c[t]||[]).forEach(t=>t()),p()}function d(t,e){if(!o){var n=x((e,...n)=>{if(u--,!1!==e)if(n.length<2&&([n]=n),e){var s={};if(Object.keys(i).forEach(t=>{s[t]=i[t]}),s[t]=n,o=!0,c=Object.create(null),a)return;r(e,s)}else i[t]=n,m(t);else a=!0});u++;var s=v(e[e.length-1]);e.length>1?s(i,n):s(n)}}function g(e){var r=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)&&i.indexOf(e)>=0&&r.push(n)}),r}return Object.keys(t).forEach(e=>{var r=t[e];if(!Array.isArray(r))return h(e,[r]),void f.push(e);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return h(e,r),void f.push(e);l[e]=i,n.forEach(u=>{if(!t[u])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+u+"` in "+n.join(", "));y(u,()=>{0==--i&&h(e,r)})})}),function(){for(var t=0;f.length;)t++,g(f.pop()).forEach(t=>{0==--l[t]&&f.push(t)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p(),r[P]}var R=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,U=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,Q=/,/,N=/(=.+)?(\s*)$/;function G(t){let e="",r=0,n=t.indexOf("*/");for(;r<t.length;)if("/"===t[r]&&"/"===t[r+1]){let e=t.indexOf("\n",r);r=-1===e?t.length:e}else if(-1!==n&&"/"===t[r]&&"*"===t[r+1]){let i=t.indexOf("*/",r);-1!==i?(r=i+2,n=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}function W(t){const e=G(t.toString());let r=e.match(R);if(r||(r=e.match(U)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,n]=r;return n.replace(/\s/g,"").split(Q).map(t=>t.replace(N,"").trim())}function $(t,e){var r={};return Object.keys(t).forEach(e=>{var n,i=t[e],u=h(i),a=!u&&1===i.length||u&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[e]=n.concat(n.length>0?o:i);else if(a)r[e]=i;else{if(n=W(i),0===i.length&&!u&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");u||n.pop(),r[e]=n.concat(o)}function o(t,e){var r=n.map(e=>t[e]);r.push(e),v(i)(...r)}}),V(r,e)}class H{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):J(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):J(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function J(t,e){t.length=1,t.head=t.tail=e}function K(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var n=v(t),i=0,u=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function o(t,e){a[t].push(e)}function s(t,e){const r=(...n)=>{f(t,r),e(...n)};a[t].push(r)}function f(t,e){return t?e?void(a[t]=a[t].filter(t=>t!==e)):a[t]=[]:Object.keys(a).forEach(t=>a[t]=[])}function l(t,...e){a[t].forEach(t=>t(...e))}var h=!1;function p(t,e,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,u;function a(t,...e){return t?r?u(t):i():e.length<=1?i(e[0]):void i(e)}b.started=!0;var o=b._createTaskItem(t,r?a:n||a);if(e?b._tasks.unshift(o):b._tasks.push(o),h||(h=!0,c(()=>{h=!1,b.process()})),r||!n)return new Promise((t,e)=>{i=t,u=e})}function y(t){return function(e,...r){i-=1;for(var n=0,a=t.length;n<a;n++){var o=t[n],c=u.indexOf(o);0===c?u.shift():c>0&&u.splice(c,1),o.callback(e,...r),null!=e&&l("error",e,o.data)}i<=b.concurrency-b.buffer&&l("unsaturated"),b.idle()&&l("drain"),b.process()}}function m(t){return!(0!==t.length||!b.idle()||(c(()=>l("drain")),0))}const d=t=>e=>{if(!e)return new Promise((e,r)=>{s(t,(t,n)=>{if(t)return r(t);e(n)})});f(t),o(t,e)};var g=!1,b={_tasks:new H,_createTaskItem:(t,e)=>({data:t,callback:e}),*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!1,!1,e))}return p(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!1,!0,e))}return p(t,!1,!0,e)},kill(){f(),b._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!0,!1,e))}return p(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!0,!0,e))}return p(t,!0,!0,e)},remove(t){b._tasks.remove(t)},process(){if(!g){for(g=!0;!b.paused&&i<b.concurrency&&b._tasks.length;){var t=[],e=[],r=b._tasks.length;b.payload&&(r=Math.min(r,b.payload));for(var a=0;a<r;a++){var o=b._tasks.shift();t.push(o),u.push(o),e.push(o.data)}i+=1,0===b._tasks.length&&l("empty"),i===b.concurrency&&l("saturated");var c=x(y(t));n(e,c)}g=!1}},length:()=>b._tasks.length,running:()=>i,workersList:()=>u,idle:()=>b._tasks.length+i===0,pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,c(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),b}function X(t,e){return K(t,1,e)}function Y(t,e,r){return K(t,e,r)}var Z=m(function(t,e,r,n){n=k(n);var i=v(r);return C(t,(t,r,n)=>{i(e,t,(t,r)=>{e=r,n(t)})},t=>n(t,e))},4);function tt(...t){var e=t.map(v);return function(...t){var r=this,n=t[t.length-1];return"function"==typeof n?t.pop():n=D(),Z(e,t,(t,e,n)=>{e.apply(r,t.concat((t,...e)=>{n(t,e)}))},(t,e)=>n(t,...e)),n[P]}}function et(...t){return tt(...t.reverse())}var rt=m(function(t,e,r,n){return g(j(e),t,r,n)},4),nt=m(function(t,e,r,n){var i=v(r);return rt(t,e,(t,e)=>{i(t,(t,...r)=>t?e(t):e(t,r))},(t,e)=>{for(var r=[],i=0;i<e.length;i++)e[i]&&(r=r.concat(...e[i]));return n(t,r)})},4),it=m(function(t,e,r){return nt(t,1/0,e,r)},3),ut=m(function(t,e,r){return nt(t,1,e,r)},3);function at(...t){return function(...e){return e.pop()(null,...t)}}function ot(t,e){return(r,n,i,u)=>{var a,o=!1;const c=v(i);r(n,(r,n,i)=>{c(r,(n,u)=>n||!1===n?i(n):t(u)&&!a?(o=!0,a=e(!0,r),i(null,S)):void i())},t=>{if(t)return u(t);u(null,o?a:e(!1))})}}var ct=m(function(t,e,r){return ot(t=>t,(t,e)=>e)(B,t,e,r)},3),st=m(function(t,e,r,n){return ot(t=>t,(t,e)=>e)(j(e),t,r,n)},4),ft=m(function(t,e,r){return ot(t=>t,(t,e)=>e)(j(1),t,e,r)},3);function lt(t){return(e,...r)=>v(e)(...r,(e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach(e=>console[t](e)))})}var ht=lt("dir"),pt=m(function(t,e,r){r=x(r);var n,i=v(t),u=v(e);function a(t,...e){if(t)return r(t);!1!==t&&(n=e,u(...e,o))}function o(t,e){return t?r(t):!1!==t?e?void i(a):r(null,...n):void 0}return o(null,!0)},3);function yt(t,e,r){const n=v(e);return pt(t,(...t)=>{const e=t.pop();n(...t,(t,r)=>e(t,!r))},r)}function vt(t){return(e,r,n)=>t(e,n)}var mt=m(function(t,e,r){return B(t,vt(v(e)),r)},3),dt=m(function(t,e,r,n){return j(e)(t,vt(v(r)),n)},4),gt=m(function(t,e,r){return dt(t,1,e,r)},3);function bt(t){return h(t)?t:function(...e){var r=e.pop(),n=!0;e.push((...t)=>{n?c(()=>r(...t)):r(...t)}),t.apply(this,e),n=!1}}var St=m(function(t,e,r){return ot(t=>!t,t=>!t)(B,t,e,r)},3),kt=m(function(t,e,r,n){return ot(t=>!t,t=>!t)(j(e),t,r,n)},4),wt=m(function(t,e,r){return ot(t=>!t,t=>!t)(C,t,e,r)},3);function Et(t,e,r,n){var i=new Array(e.length);t(e,(t,e,n)=>{r(t,(t,r)=>{i[e]=!!r,n(t)})},t=>{if(t)return n(t);for(var r=[],u=0;u<e.length;u++)i[u]&&r.push(e[u]);n(null,r)})}function Lt(t,e,r,n){var i=[];t(e,(t,e,n)=>{r(t,(r,u)=>{if(r)return n(r);u&&i.push({index:e,value:t}),n(r)})},t=>{if(t)return n(t);n(null,i.sort((t,e)=>t.index-e.index).map(t=>t.value))})}function At(t,e,r,n){return(b(e)?Et:Lt)(t,e,v(r),n)}var xt=m(function(t,e,r){return At(B,t,e,r)},3),Ot=m(function(t,e,r,n){return At(j(e),t,r,n)},4),jt=m(function(t,e,r){return At(C,t,e,r)},3),_t=m(function(t,e){var r=x(e),n=v(bt(t));return function t(e){if(e)return r(e);!1!==e&&n(t)}()},2),It=m(function(t,e,r,n){var i=v(r);return rt(t,e,(t,e)=>{i(t,(r,n)=>r?e(r):e(r,{key:n,val:t}))},(t,e)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,u=0;u<e.length;u++)if(e[u]){var{key:a}=e[u],{val:o}=e[u];i.call(r,a)?r[a].push(o):r[a]=[o]}return n(t,r)})},4);function Tt(t,e,r){return It(t,1/0,e,r)}function Bt(t,e,r){return It(t,1,e,r)}var Mt=lt("log"),Ft=m(function(t,e,r,n){n=k(n);var i={},u=v(r);return j(e)(t,(t,e,r)=>{u(t,e,(t,n)=>{if(t)return r(t);i[e]=n,r(t)})},t=>n(t,i))},4);function Ct(t,e,r){return Ft(t,1/0,e,r)}function qt(t,e,r){return Ft(t,1,e,r)}function zt(t,e=(t=>t)){var n=Object.create(null),i=Object.create(null),u=v(t),a=r((t,r)=>{var a=e(...t);a in n?c(()=>r(null,...n[a])):a in i?i[a].push(r):(i[a]=[r],u(...t,(t,...e)=>{t||(n[a]=e);var r=i[a];delete i[a];for(var u=0,o=r.length;u<o;u++)r[u](t,...e)}))});return a.memo=n,a.unmemoized=t,a}var Pt=o(u?process.nextTick:i?setImmediate:a),Dt=m((t,e,r)=>{var n=b(e)?[]:{};t(e,(t,e,r)=>{v(t)((t,...i)=>{i.length<2&&([i]=i),n[e]=i,r(t)})},t=>r(t,n))},3);function Vt(t,e){return Dt(B,t,e)}function Rt(t,e,r){return Dt(j(e),t,r)}function Ut(t,e){var r=v(t);return K((t,e)=>{r(t[0],e)},e,1)}class Qt{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&Gt(this.heap[t],this.heap[e=Nt(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=1+(t<<1))<this.heap.length&&(e+1<this.heap.length&&Gt(this.heap[e+1],this.heap[e])&&(e+=1),!Gt(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let r=Nt(this.heap.length-1);r>=0;r--)this.percDown(r);return this}}function Nt(t){return(t+1>>1)-1}function Gt(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function Wt(t,e){var r=Ut(t,e),{push:n,pushAsync:i}=r;function u(t,e){return Array.isArray(t)?t.map(t=>({data:t,priority:e})):{data:t,priority:e}}return r._tasks=new Qt,r._createTaskItem=({data:t,priority:e},r)=>({data:t,priority:e,callback:r}),r.push=function(t,e=0,r){return n(u(t,e),r)},r.pushAsync=function(t,e=0,r){return i(u(t,e),r)},delete r.unshift,delete r.unshiftAsync,r}var $t=m(function(t,e){if(e=k(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)v(t[r])(e)},2);function Ht(t,e,r,n){var i=[...t].reverse();return Z(i,e,r,n)}function Jt(t){var e=v(t);return r(function(t,r){return t.push((t,...e)=>{let n={};if(t&&(n.error=t),e.length>0){var i=e;e.length<=1&&([i]=e),n.value=i}r(null,n)}),e.apply(this,t)})}function Kt(t){var e;return Array.isArray(t)?e=t.map(Jt):(e={},Object.keys(t).forEach(r=>{e[r]=Jt.call(this,t[r])})),e}function Xt(t,e,r,n){const i=v(r);return At(t,e,(t,e)=>{i(t,(t,r)=>{e(t,!r)})},n)}var Yt=m(function(t,e,r){return Xt(B,t,e,r)},3),Zt=m(function(t,e,r,n){return Xt(j(e),t,r,n)},4),te=m(function(t,e,r){return Xt(C,t,e,r)},3);function ee(t){return function(){return t}}const re=5,ne=0;function ie(t,e,r){var n={times:re,intervalFunc:ee(ne)};if(arguments.length<3&&"function"==typeof t?(r=e||D(),e=t):(ue(n,t),r=r||D()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var i=v(e),u=1;return function t(){i((e,...i)=>{!1!==e&&(e&&u++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(t,n.intervalFunc(u-1)):r(e,...i))})}(),r[P]}function ue(t,e){if("object"==typeof e)t.times=+e.times||re,t.intervalFunc="function"==typeof e.interval?e.interval:ee(+e.interval||ne),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||re}}function ae(t,e){e||(e=t,t=null);let n=t&&t.arity||e.length;h(e)&&(n+=1);var i=v(e);return r((e,r)=>{function u(t){i(...e,t)}return(e.length<n-1||null==r)&&(e.push(r),r=D()),t?ie(t,u,r):ie(u,r),r[P]})}function oe(t,e){return Dt(C,t,e)}var ce=m(function(t,e,r){return ot(Boolean,t=>t)(B,t,e,r)},3),se=m(function(t,e,r,n){return ot(Boolean,t=>t)(j(e),t,r,n)},4),fe=m(function(t,e,r){return ot(Boolean,t=>t)(C,t,e,r)},3),le=m(function(t,e,r){var n=v(e);return M(t,(t,e)=>{n(t,(r,n)=>{if(r)return e(r);e(r,{value:t,criteria:n})})},(t,e)=>{if(t)return r(t);r(null,e.sort(i).map(t=>t.value))});function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}},3);function he(t,e,n){var i=v(t);return r((r,u)=>{var a,o=!1;r.push((...t)=>{o||(u(...t),clearTimeout(a))}),a=setTimeout(function(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),o=!0,u(r)},e),i(...r)})}function pe(t){for(var e=Array(t);t--;)e[t]=t;return e}function ye(t,e,r,n){var i=v(r);return rt(pe(t),e,i,n)}function ve(t,e,r){return ye(t,1/0,e,r)}function me(t,e,r){return ye(t,1,e,r)}function de(t,e,r,n){arguments.length<=3&&"function"==typeof e&&(n=r,r=e,e=Array.isArray(t)?[]:{}),n=k(n||D());var i=v(r);return B(t,(t,r,n)=>{i(e,t,r,n)},t=>n(t,e)),n[P]}var ge=m(function(t,e){var r,n=null;return gt(t,(t,e)=>{v(t)((t,...i)=>{if(!1===t)return e(t);i.length<2?[r]=i:r=i,n=t,e(t?null:{})})},()=>e(n,r))});function be(t){return(...e)=>(t.unmemoized||t)(...e)}var Se=m(function(t,e,r){r=x(r);var n=v(e),i=v(t),u=[];function a(t,...e){if(t)return r(t);u=e,!1!==t&&i(o)}function o(t,e){return t?r(t):!1!==t?e?void n(a):r(null,...u):void 0}return i(o)},3);function ke(t,e,r){const n=v(t);return Se(t=>n((e,r)=>t(e,!r)),e,r)}var we=m(function(t,e){if(e=k(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(e){v(t[r++])(...e,x(i))}function i(i,...u){if(!1!==i)return i||r===t.length?e(i,...u):void n(u)}n([])}),Ee={apply:e,applyEach:F,applyEachSeries:z,asyncify:s,auto:V,autoInject:$,cargo:X,cargoQueue:Y,compose:et,concat:it,concatLimit:nt,concatSeries:ut,constant:at,detect:ct,detectLimit:st,detectSeries:ft,dir:ht,doUntil:yt,doWhilst:pt,each:mt,eachLimit:dt,eachOf:B,eachOfLimit:_,eachOfSeries:C,eachSeries:gt,ensureAsync:bt,every:St,everyLimit:kt,everySeries:wt,filter:xt,filterLimit:Ot,filterSeries:jt,forever:_t,groupBy:Tt,groupByLimit:It,groupBySeries:Bt,log:Mt,map:M,mapLimit:rt,mapSeries:q,mapValues:Ct,mapValuesLimit:Ft,mapValuesSeries:qt,memoize:zt,nextTick:Pt,parallel:Vt,parallelLimit:Rt,priorityQueue:Wt,queue:Ut,race:$t,reduce:Z,reduceRight:Ht,reflect:Jt,reflectAll:Kt,reject:Yt,rejectLimit:Zt,rejectSeries:te,retry:ie,retryable:ae,seq:tt,series:oe,setImmediate:c,some:ce,someLimit:se,someSeries:fe,sortBy:le,timeout:he,times:ve,timesLimit:ye,timesSeries:me,transform:de,tryEach:ge,unmemoize:be,until:ke,waterfall:we,whilst:Se,all:St,allLimit:kt,allSeries:wt,any:ce,anyLimit:se,anySeries:fe,find:ct,findLimit:st,findSeries:ft,flatMap:it,flatMapLimit:nt,flatMapSeries:ut,forEach:mt,forEachSeries:gt,forEachLimit:dt,forEachOf:B,forEachOfSeries:C,forEachOfLimit:_,inject:Z,foldl:Z,foldr:Ht,select:xt,selectLimit:Ot,selectSeries:jt,wrapSync:s,during:Se,doDuring:pt};t.all=St,t.allLimit=kt,t.allSeries=wt,t.any=ce,t.anyLimit=se,t.anySeries=fe,t.apply=e,t.applyEach=F,t.applyEachSeries=z,t.asyncify=s,t.auto=V,t.autoInject=$,t.cargo=X,t.cargoQueue=Y,t.compose=et,t.concat=it,t.concatLimit=nt,t.concatSeries=ut,t.constant=at,t.default=Ee,t.detect=ct,t.detectLimit=st,t.detectSeries=ft,t.dir=ht,t.doDuring=pt,t.doUntil=yt,t.doWhilst=pt,t.during=Se,t.each=mt,t.eachLimit=dt,t.eachOf=B,t.eachOfLimit=_,t.eachOfSeries=C,t.eachSeries=gt,t.ensureAsync=bt,t.every=St,t.everyLimit=kt,t.everySeries=wt,t.filter=xt,t.filterLimit=Ot,t.filterSeries=jt,t.find=ct,t.findLimit=st,t.findSeries=ft,t.flatMap=it,t.flatMapLimit=nt,t.flatMapSeries=ut,t.foldl=Z,t.foldr=Ht,t.forEach=mt,t.forEachLimit=dt,t.forEachOf=B,t.forEachOfLimit=_,t.forEachOfSeries=C,t.forEachSeries=gt,t.forever=_t,t.groupBy=Tt,t.groupByLimit=It,t.groupBySeries=Bt,t.inject=Z,t.log=Mt,t.map=M,t.mapLimit=rt,t.mapSeries=q,t.mapValues=Ct,t.mapValuesLimit=Ft,t.mapValuesSeries=qt,t.memoize=zt,t.nextTick=Pt,t.parallel=Vt,t.parallelLimit=Rt,t.priorityQueue=Wt,t.queue=Ut,t.race=$t,t.reduce=Z,t.reduceRight=Ht,t.reflect=Jt,t.reflectAll=Kt,t.reject=Yt,t.rejectLimit=Zt,t.rejectSeries=te,t.retry=ie,t.retryable=ae,t.select=xt,t.selectLimit=Ot,t.selectSeries=jt,t.seq=tt,t.series=oe,t.setImmediate=c,t.some=ce,t.someLimit=se,t.someSeries=fe,t.sortBy=le,t.timeout=he,t.times=ve,t.timesLimit=ye,t.timesSeries=me,t.transform=de,t.tryEach=ge,t.unmemoize=be,t.until=ke,t.waterfall=we,t.whilst=Se,t.wrapSync=s,Object.defineProperty(t,"__esModule",{value:!0})});